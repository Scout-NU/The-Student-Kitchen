<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Impact - The Student Kitchen</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800;900&family=New+Spirit:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="custom-cursor">üçï</div>
    <div id="header"></div>

    <main>
        <section class="impact">
            <div class="container">
                <h1>Community Impact</h1>
                <p class="section-description">Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat.</p>
            </div>
        </section>
        
        <section class="carousel-section">
            <div class="carousel">
                <button class="arrow prev" aria-label="Previous">‚Äπ</button>
                <div class="carousel-wrapper">
                    <div class="carousel-track">
                        <div class="card">
                            <img src="assets/students.png" alt="Students in kitchen" />
                        </div>
                        <div class="card">
                            <img src="assets/students2.png" alt="Student cooking" />
                        </div>
                        <div class="card">
                            <img src="assets/students3.png" alt="Student working" />
                        </div>
                        <div class="card">
                            <img src="assets/students4.png" alt="Students in kitchen" />
                        </div>
                        <div class="card">
                            <img src="assets/ben.png" alt="Student cooking" />
                        </div>
                        <div class="card">
                            <img src="assets/image5.png" alt="Student working" />
                        </div>
                    </div>
                </div>
                <button class="arrow next" aria-label="Next">‚Ä∫</button>
            </div>
        </section>
        
 <section class="statistics-section">
    <div class="statistics-container">
        <div class="stat-item">
            <div class="stat-icon-wrapper">
                <img src="assets/people-icon.png" alt="People Icon" class="header-logo">
            </div>
            <p class="stat-text">Statistic 1</p>
        </div>
        <div class="stat-item">
            <div class="stat-icon-wrapper">
                <img src="assets/building-icon.png" alt="Building Icon" class="header-logo">
            </div>
            <p class="stat-text">Statistic 2</p>
        </div>
        <div class="stat-item">
            <div class="stat-icon-wrapper pie-chart-wrapper">
                <img src="assets/pie-chart-icon-1.png" alt="Pie Chart Icon" class="pie-chart-icon-1">
                <img src="assets/pie-chart-icon-2.png" alt="Pie Chart Icon" class="pie-chart-icon-2">
            </div>
            <p class="stat-text">Statistic 3</p>
        </div>
    </div>
</section>

        <section class="partners">
            <div class="container">
                <h1>Community Partners</h1>
                <p class="section-description">Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat.</p>
                
                <div class="map-container">
                    <img src="assets/newyorkmap.png" alt="Map of New York" class="map" />
                    
                    <div class="map-popup">
                        <button class="close" aria-label="Close">√ó</button>
                        <div class="popup-content">
                            <div class="popup-icon">
                                <img src="assets/partner-icon.png" alt="Partner logo" />
                            </div>
                            <h3>Plaza Proletaria</h3>
                            <p>Through El Puente and NYC Department of Youth and Community Development, The Student Kitchen leads a weekly drop-in cooking class for high school students. Students practice following recipes, learn about seasonal produce, and gain confidence in the kitchen.</p>
                            <button class="site-btn">Site</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="partner-logos-section">
            <div class="partner-logos-carousel">
                <div class="logos-track">
                    <img src="assets/logos1.png" alt="Partner logos row 1" />
                    <img src="assets/logo2.png" alt="Partner logos row 2" />
                    <img src="assets/logo3.png" alt="Partner logos row 3" />
                    <img src="assets/logos1.png" alt="Partner logos row 1" />
                    <img src="assets/logo2.png" alt="Partner logos row 2" />
                    <img src="assets/logo3.png" alt="Partner logos row 3" />
                </div>
            </div>
        </section>
    </main>

    <div id="footer"></div>

    <script>
        fetch('header.html')
            .then(response => response.text())
            .then(data => document.getElementById('header').innerHTML = data);
        
        fetch('footer.html')
            .then(response => response.text())
            .then(data => document.getElementById('footer').innerHTML = data);
    </script>
    <script src="cursor.js"></script>
    <script>
        const carousel = document.querySelector('.carousel');
        const track = document.querySelector('.carousel-track');
        const prevButton = document.querySelector('.arrow.prev');
        const nextButton = document.querySelector('.arrow.next');
        
        const originalSlides = Array.from(track.querySelectorAll('.card'));
        const totalSlides = originalSlides.length;
        
        for (let i = 0; i < 3; i++) {
            originalSlides.forEach(slide => {
                const clone = slide.cloneNode(true);
                track.appendChild(clone);
            });
        }
        
        for (let i = 0; i < 3; i++) {
            originalSlides.slice().reverse().forEach(slide => {
                const clone = slide.cloneNode(true);
                track.insertBefore(clone, track.firstChild);
            });
        }
        
        const allSlides = Array.from(track.querySelectorAll('.card'));
        
        let currentIndex = totalSlides * 3;
        let isTransitioning = false;
        
        function updateCarousel(animate = true) {
            const slideWidth = allSlides[0].offsetWidth + 20; 
            const carouselCenter = carousel.offsetWidth / 2;
            const slideCenter = allSlides[0].offsetWidth / 2;
            
            // Calculate position to center current slide
            const offset = carouselCenter - slideCenter - (currentIndex * slideWidth);
            
            track.style.transition = animate ? 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)' : 'none';
            track.style.transform = `translateX(${offset}px)`;
            
            // Update active class - only center slide is active
            allSlides.forEach((slide, idx) => {
                slide.classList.toggle('active', idx === currentIndex);
            });
        }
        
        function checkAndResetPosition() {
            // If we're getting close to the end, reset to middle
            if (currentIndex >= totalSlides * 5) {
                currentIndex = totalSlides * 3;
                updateCarousel(false);
            } else if (currentIndex <= totalSlides) {
                currentIndex = totalSlides * 3;
                updateCarousel(false);
            }
        }
        
        function moveNext() {
            if (isTransitioning) return;
            isTransitioning = true;
            
            currentIndex++;
            updateCarousel(true);
            
            setTimeout(() => {
                checkAndResetPosition();
                isTransitioning = false;
            }, 650);
        }
        
        function movePrev() {
            if (isTransitioning) return;
            isTransitioning = true;
            
            currentIndex--;
            updateCarousel(true);
            
            setTimeout(() => {
                checkAndResetPosition();
                isTransitioning = false;
            }, 650);
        }
        
        nextButton.addEventListener('click', moveNext);
        prevButton.addEventListener('click', movePrev);
        
        setTimeout(() => {
            updateCarousel(false);
        }, 50);
        
        window.addEventListener('resize', () => {
            updateCarousel(false);
        });
    </script>
</body>
</html>